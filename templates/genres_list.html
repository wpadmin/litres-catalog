{% extends "base.html" %}

{% block title %}Жанры аудиокниг — категории и рубрики на Большой Ух{% endblock %}

{% block description %}Все жанры и категории аудиокниг на Большой Ух. Выберите жанр и слушайте аудиокниги онлайн или скачивайте в mp3.{% endblock %}

{% block content %}
<div class="bg-gradient-to-b from-indigo-50 to-white py-16" x-data="{ searchQuery: '' }">
    <div class="container mx-auto px-4">
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold text-gray-900 mb-4">Жанры</h1>
            <p class="text-xl text-gray-500">{{ total }} категорий аудиокниг</p>
        </div>

        <!-- Search filter -->
        <div class="mb-8 max-w-md mx-auto">
            <div class="relative">
                <input
                    type="search"
                    x-model="searchQuery"
                    placeholder="Поиск по жанрам..."
                    class="w-full px-4 py-3 pl-12 pr-4 border border-gray-200 rounded-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition"
                >
                <svg class="absolute left-4 top-3.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {% for genre in genres %}
            <a href="/genre/{{ genre.slug }}"
               x-show="searchQuery === '' || '{{ genre.name }}'.toLowerCase().includes(searchQuery.toLowerCase())"
               class="bg-white rounded-lg p-6 hover:shadow-lg hover:border-yellow-500 border border-gray-100 transition-all group">
                <h2 class="text-lg font-medium text-gray-900 group-hover:text-yellow-500 transition">
                    {{ genre.name }}
                </h2>
            </a>
            {% endfor %}
        </div>

        <!-- No results message -->
        <div x-show="searchQuery !== '' && Array.from(document.querySelectorAll('[x-show]')).filter(el => el.style.display !== 'none').length === 0" x-cloak class="text-center py-12">
            <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <p class="text-gray-500 text-lg">Жанры не найдены</p>
            <p class="text-gray-400 text-sm mt-2">Попробуйте изменить поисковый запрос</p>
        </div>
    </div>
</div>
{% endblock %}
